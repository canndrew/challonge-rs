language: rust
matrix:
    fast_finish: true
    include:
        - rust: nightly
        - rust: beta
        - rust: stable

cache:
    apt: true
    directories:
        - target/debug/deps
        - target/debug/build

script:
  - cargo build --verbose $FEATURES
  - cargo test --verbose $FEATURES
  - 'if [ $TRAVIS_RUST_VERSION = nightly ]; then cargo bench --no-run; fi'

addons:
  apt:
    packages:
      - openssl-dev

notifications:
email: false
